# Source all analysis functions and data silently
# This loads everything without prints, outputs, or document generation

# Simple suppression without sink - just capture cat() output
{
  old_cat <- cat
  assign("cat", function(...) invisible(NULL), envir = .GlobalEnv)
  
  suppressMessages(suppressWarnings({
    source("Immunosuppressive metabolites feature table/Scripts/01_libraries")
    source("Immunosuppressive metabolites feature table/Scripts/02_setup") 
    source("Immunosuppressive metabolites feature table/Scripts/03a_plotting_functions")
    source("Immunosuppressive metabolites feature table/Scripts/03b_tests_plot")
    source("Immunosuppressive metabolites feature table/Scripts/03_tests")
  }))
  
  assign("cat", old_cat, envir = .GlobalEnv)
}

# All data objects are now available in environment:
# - metabolite_data, nonlog2_data, patients_with_2R
# - acr_0r, acr_1r, acr_0_1r, acr_2r
# - pre_2R, active_2R, post_2R  
# - Analysis results from simplified scripts

cat("Analysis data loaded. All objects available.\n")
