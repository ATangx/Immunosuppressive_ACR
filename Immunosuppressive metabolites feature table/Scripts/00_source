# Source all analysis functions and data silently
# This loads everything without prints, outputs, or document generation

# Suppress all output during sourcing
sink("/dev/null")
invisible(capture.output({
  
  # # Load libraries
  # suppressPackageStartupMessages({
  #   library(tidyverse)
  # })
  
  source("Immunosuppressive metabolites feature table/Scripts/01_libraries")
  
  # Source data setup (suppress prints)
  source("Immunosuppressive metabolites feature table/Scripts/02_setup")
  
  # Source plotting functions  
  source("Immunosuppressive metabolites feature table/Scripts/03_plotting_functions")
  
  # Run all analyses silently (data only, no outputs)
  source("Immunosuppressive metabolites feature table/Scripts/03_tests")
  source("Immunosuppressive metabolites feature table/Scripts/04_PODdist")

}))
sink()

# All data objects are now available in environment:
# - metabolite_data, nonlog2_data, patients_with_2R
# - acr_0r, acr_1r, acr_0_1r, acr_2r
# - pre_2R, active_2R, post_2R  
# - ttest_res, ttest_res_median, etc.
# - All matched analysis results
# - All POD analysis objects

cat("Analysis data loaded silently. All objects available in environment.\n")